$(document).ready(function(){function e(){return D=1,d('<div class="show-action"><i class="fa fa-refresh"></i> New game</div>'),l(null,0,D),n(),a(),setTimeout(function(){u(D)},500),!0}function n(){return m=["h_1","h_2","h_3","h_4","h_5","h_6","h_7","h_8","h_9","h_10","h_11","h_12","h_13","s_1","s_2","s_3","s_4","s_5","s_6","s_7","s_8","s_9","s_10","s_11","s_12","s_13","d_1","d_2","d_3","d_4","d_5","d_6","d_7","d_8","d_9","d_10","d_11","d_12","d_13","c_1","c_2","c_3","c_4","c_5","c_6","c_7","c_8","c_9","c_10","c_11","c_12","c_13"]}function r(){return n(),t(C),t(b),t(M),t(I),t(T),!0}function t(e){return m=jQuery.grep(m,function(e){return e!=C}),!0}function a(){return v.html(""),p.html(""),g.html(""),w.html(""),y.html(""),s(1,v,!1,0),s(2,p,!1,0),s(3,g,!0,0),s(4,w,!1,0),s(5,y,!1,0),!0}function i(e){if(x===!1){x=!0;var n=null,t=null;1===D?(n=C,t=v):2===D?(n=b,t=p):3===D?(n=M,t=g):4===D?(n=I,t=w):5===D&&(n=T,t=y);var a=n.split("_"),i=a[1];if(3===D){t.html('<div class="card '+n+'"><img src="./images/cards/'+n+'.png"></div>');var o=s(D,t,!1,500)}else var o=s(D,t,!1,0);var c=null;if(c=parseInt(o)>parseInt(i)?"true":parseInt(i)===parseInt(o)?e:"false",e===c)D>2&&s(3,g,!0,2500),5==D?(A===!1&&f.play(),D=1,l("Congratulations you've won the game! Next player.",0,D)):3===D?(D+=1,l("Correct! Good Job.",1e3,D)):(D+=1,l("Correct! Good Job.",0,D));else if(A===!1&&h.play(),D>2&&s(3,g,!0,2500),3===D){var u=D;D=1,l("Wrong! Drink "+u+" sips and try again.",1e3,D)}else{var u=D;D=1,l("Wrong! Drink "+u+" sips and try again.",0,D)}return m.length<2&&r(),setTimeout(function(){x=!1},1100),d(e),c}return!1}function s(e,n,r,a){A===!1&&_.play();var i=m[Math.floor(Math.random()*m.length)];t(i),1===e?C=i:2===e?b=i:3===e?M=i:4===e?I=i:5===e&&(T=i),setTimeout(function(){if(r)n.html('<div class="back-card"><img src="./images/cards/back.png"></div>');else{var e=n.children(".card"),t=n.children(".card").length;if(t>0){var a=.82*n.height();n.append('<div class="card new-card '+i+'" style="margin-top:-'+a+'px;"><img src="./images/cards/'+i+'.png"></div>'),setTimeout(function(){newCard=n.children(".new-card").stop().animate({marginTop:"0px"},400).dequeue(),e.stop().slideUp(400).dequeue(),newCard.removeClass("new-card")},1e3)}else n.html('<div class="card '+i+'"><img src="./images/cards/'+i+'.png"></div>')}},a);var s=i.split("_"),l=s[1];return l}function l(e,n,r){return null!==e?$(".message-content").fadeOut(200,function(){$(this).html(e)}).delay(n).fadeIn(function(){o(r)}):o(r),!0}function o(e){D=e;var n=null;return 1===D?n=v:2===D?n=p:3===D?n=g:4===D?n=w:5===D&&(n=y),k.each(function(){$(this).removeClass("active")}),n.addClass("active"),u(D),!0}function c(){var e=Math.floor(10*Math.random())+1,n=null;return n=6>e?"false":"true",i(n),n}function d(e){var n=null;n="true"===e?'<div class="show-action"><i class="fa fa-arrow-up"></i> Higher</div>':"false"===e?'<div class="show-action"><i class="fa fa-arrow-down"></i> Lower</div>':e;var r=$(".show-actions");return r.append(n).slideDown(),$(".show-action").delay(2e3).slideUp(),!0}function u(e){var n=$("#wrapper").width(),r=$(".holder-1").width()+20,t=$(".holder-1 .card").width();return fringe=(n-r)/2,leftMargin=fringe-(e-1)*r,$(".playing-cards").animate({marginLeft:leftMargin},600),!0}var h=document.createElement("audio");h.setAttribute("src","sounds/boo.wav");var f=document.createElement("audio");f.setAttribute("src","sounds/cheer.wav");var _=document.createElement("audio");_.setAttribute("src","sounds/flip.wav"),h.mute=!0;var m=null,v=$(".holder-1"),p=$(".holder-2"),g=$(".holder-3"),w=$(".holder-4"),y=$(".holder-5"),k=$(".card-holder"),C=null,b=null,M=null,I=null,T=null,D=1,x=!1,A=!1;e(),$(window).resize(function(){u(D)}),$(".action-button").click(function(){var n=$(this).attr("id");return"newGame"===n?e():"random"===n?c():"help"===n?$("#help-module").slideDown():i("higher"===n?"true":"false"),!1}),$(".mute-button").click(function(){A===!1?($(this).html('<i class="fa fa-volume-off"></i>'),A=!0):($(this).html('<i class="fa fa-volume-up"></i>'),A=!1)}),$(".close-help").click(function(){$("#help-module").slideUp()}),$(document).keydown(function(n){return 38==n.keyCode?(i("true"),!1):40==n.keyCode?(i("false"),!1):(82==n.keyCode&&c(),78==n.keyCode?(e(),!1):void 0)})});
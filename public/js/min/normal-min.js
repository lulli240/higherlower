$(document).ready(function(){function e(){I=1,l('<div class="show-action"><i class="fa fa-refresh"></i> New game</div>'),s(null,0,I),n(),r()}function n(){_=["h_1","h_2","h_3","h_4","h_5","h_6","h_7","h_8","h_9","h_10","h_11","h_12","h_13","s_1","s_2","s_3","s_4","s_5","s_6","s_7","s_8","s_9","s_10","s_11","s_12","s_13","d_1","d_2","d_3","d_4","d_5","d_6","d_7","d_8","d_9","d_10","d_11","d_12","d_13","c_1","c_2","c_3","c_4","c_5","c_6","c_7","c_8","c_9","c_10","c_11","c_12","c_13"]}function t(){n(),_=jQuery.grep(_,function(e){return e!=k}),_=jQuery.grep(_,function(e){return e!=C}),_=jQuery.grep(_,function(e){return e!=b}),_=jQuery.grep(_,function(e){return e!=j}),_=jQuery.grep(_,function(e){return e!=Q})}function r(){m.html(""),v.html(""),p.html(""),g.html(""),w.html(""),i(1,m,!1,0),i(2,v,!1,0),i(3,p,!0,0),i(4,g,!1,0),i(5,w,!1,0)}function a(e){if(D===!1){D=!0;var n=null,r=null;1===I?(n=k,r=m):2===I?(n=C,r=v):3===I?(n=b,r=p):4===I?(n=j,r=g):5===I&&(n=Q,r=w);var a=n.split("_"),o=a[1];if(3===I){r.html('<div class="card '+n+'"><img src="./images/cards/'+n+'.jpg"></div>');var c=i(I,r,!1,500)}else var c=i(I,r,!1,0);var d=null;if(d=parseInt(c)>parseInt(o)?"true":parseInt(o)===parseInt(c)?e:"false",e===d)I>2&&i(3,p,!0,2500),5==I?(M===!1&&h.play(),I=1,s("Congratulations you've won the game! Next player.",0,I)):3===I?(I+=1,s("Correct! Good Job.",1e3,I)):(I+=1,s("Correct! Good Job.",0,I));else if(M===!1&&u.play(),I>2&&i(3,p,!0,2500),3===I){var f=I;I=1,s("Wrong! Drink "+f+" sips and try again.",1e3,I)}else{var f=I;I=1,s("Wrong! Drink "+f+" sips and try again.",0,I)}return _.length<2&&t(),D=!1,l(e),d}}function i(e,n,t,r){M===!1&&f.play();var a=_[Math.floor(Math.random()*_.length)];_=jQuery.grep(_,function(e){return e!=a}),1===e?k=a:2===e?C=a:3===e?b=a:4===e?j=a:5===e&&(Q=a),setTimeout(function(){if(t)n.html('<div class="back-card"><img src="./images/cards/back.jpg"></div>');else{var e=n.children(".card");if(e){var r=.82*n.height();n.append('<div class="card new-card '+a+'" style="margin-top:-'+r+'px"><img src="./images/cards/'+a+'.jpg"></div>'),setTimeout(function(){newCard=n.children(".new-card").stop().animate({marginTop:"0px"},400),e.stop().slideUp(400),newCard.removeClass("new-card")},1e3)}else n.html('<div class="card'+a+'"><img src="./images/cards/'+a+'.jpg"></div>')}},r);var i=a.split("_"),s=i[1];return s}function s(e,n,t){null!==e?$(".message-content").fadeOut(200,function(){$(this).html(e)}).delay(n).fadeIn(function(){o(t)}):o(t)}function o(e){I=e;var n=null;1===I?n=m:2===I?n=v:3===I?n=p:4===I?n=g:5===I&&(n=w),y.each(function(){$(this).removeClass("active")}),n.addClass("active")}function c(){var e=Math.floor(10*Math.random())+1,n=null;return n=6>e?"false":"true",a(n),n}function l(e){var n=null;n="true"===e?'<div class="show-action"><i class="fa fa-arrow-up"></i> Higher</div>':"false"===e?'<div class="show-action"><i class="fa fa-arrow-down"></i> Lower</div>':e;var t=$(".show-actions");t.append(n).slideDown(),$(".show-action").delay(2e3).slideUp()}function d(){y.each(function(){var e=$(this).width(),n=e/.616;n+=8,$(this).css("height",n)})}var u=document.createElement("audio");u.setAttribute("src","sounds/boo.wav");var h=document.createElement("audio");h.setAttribute("src","sounds/cheer.wav");var f=document.createElement("audio");f.setAttribute("src","sounds/flip.wav"),u.mute=!0;var _=null,m=$(".holder-1"),v=$(".holder-2"),p=$(".holder-3"),g=$(".holder-4"),w=$(".holder-5"),y=$(".card-holder"),k=null,C=null,b=null,j=null,Q=null,I=1,D=!1,M=!1;d(),$(window).resize(function(){d()}),e(),$(".action-button").click(function(){var n=$(this).attr("id");return"newGame"===n?e():"random"===n?c():"help"===n?$("#help-module").slideDown():a("higher"===n?"true":"false"),!1}),$(".mute-button").click(function(){M===!1?($(this).html('<i class="fa fa-volume-off"></i>'),M=!0):($(this).html('<i class="fa fa-volume-up"></i>'),M=!1)}),$(".close-help").click(function(){$("#help-module").slideUp()}),$(document).keydown(function(n){return 38==n.keyCode?(a("true"),!1):40==n.keyCode?(a("false"),!1):(82==n.keyCode&&c(),78==n.keyCode?(e(),!1):void 0)})});